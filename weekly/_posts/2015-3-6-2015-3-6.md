---
layout: post
title: io.js 本周播报 - 2015.03.06
author: iojs
reference: https://medium.com/node-js-javascript/io-js-week-of-march-6th-2f9344688277
---

概要：Buffer.indexOf(), Tessel 2 等。

# io.js 1.5.0 发布

3月6日，星期五，[@rvagg](https://github.com/rvagg) 发布了 [**v1.5.0**](https://iojs.org/dist/latest/). 完整的变更日志参见 [github](https://github.com/iojs/iojs-cn/blob/gh-pages/CHANGELOG.md#2015-03-06-%E7%89%88%E6%9C%AC-150-rvagg).

### 主要更新

* **buffer**: 新增了方法 `Buffer#indexOf()` , 该方法参考了 [`Array#indexOf()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf). 接受一个 String, Buffer 或者 Number 对象的参数。其中 String 对象是 UTF8 编码的，(Trevor Norris) [#561](https://github.com/iojs/io.js/pull/561)
* **fs**: `options` object properties in `'fs'` methods no longer perform a `hasOwnProperty()` check, thereby allowing options objects to have prototype properties that apply. (Jonathan Ong) [#635](https://github.com/iojs/io.js/pull/635)
* **tls**: PayPal 报告了一个疑似 TLS 模块内存泄露问题。最近在 **stream_wrap** 中的一些变更似乎是罪魁祸首。 初步的修复参见 [#1078](https://github.com/iojs/io.js/pull/1078), 你可以在 [#1075](https://github.com/iojs/io.js/issues/1075) (Fedor Indutny) 跟踪这个漏洞修复的进展。
* **npm**: 更新 npm 到 2.7.0. 在 [npm CHANGELOG.md](https://github.com/npm/npm/blob/master/CHANGELOG.md#v270-2015-02-26) 查看详细情况，其中包括为什么没有升级 major 版本号。
* **TC**: Colin Ihrig (@cjihrig) 辞去了技术委员会的职位，因为他希望减少会议以投入更多的精力到编码中。

### 已知的问题

* 可能跟 TLS 模块有关的内存泄露, 详情参见 [#1075](https://github.com/iojs/io.js/issues/1075).
* Windows 系统依然存在一些较小的测试失败的情况，我们会继续优先解决这些问题。参见讨论 [#1005](https://github.com/iojs/io.js/issues/1005).
* Surrogate pair 在 REPL 模块中会使终端冻结 [#690](https://github.com/iojs/io.js/issues/690)
* io.js 不可以作为静态库编译，参见 [#686](https://github.com/iojs/io.js/issues/686)
* `process.send()` 不是同步方法，这跟 1.0.2 文档中提及的不同，参见 [#760](https://github.com/iojs/io.js/issues/760), 修复参见 [#774](https://github.com/iojs/io.js/issues/774)

# 社区新鲜事

* 你可以轻松地了解到 [FREAK Attack](https://freakattack.com/) [**没有影响到**](https://strongloop.com/strongblog/are-node-and-io-js-affected-by-the-freak-attack-openssl-vulnerability/) io.js 和最新版的 node.js. 你正在使用 io.js 或者最新版的 node.js, 对吗？
* Walmart 为 io.js 的持续集成系统赞助了一台构建机器。@iojs/build 团队正在致力于创建运行在 SunOS 上的二进制包（正如你可以在 nodejs.org 上获取的一样）。要想获得更多的进展，首先需要修复 V8 的这个问题 ([iojs/io.js#1079](https://github.com/iojs/io.js/pull/1079))
* 我们还要感谢以下公司为 io.js 的构建贡献硬件以及相关的技术、支持、工程师：
  * **Digital Ocean** (mainly Linux)
  * **Rackspace** (mainly Windows)
  * **Voxer** (OS X and FreeBSD)
  * **NodeSource** (ARMv6 & ARMv7)
  * **Linaro** (ARMv8)
  * **Walmart** (SmartOS / Solaris)
* io.js 社区一直致力于所有内容的国际化，现在有 20 多种语言在 [iojs.org](http://iojs.org) 和国际化社区网站上发布。此外，为了方便访问，国际化社区的链接 ([iojs/website#258](https://github.com/iojs/website/pull/258)) 已经添加在官网的页脚。我们是否错过了你的语言？[帮助我们添加！](https://github.com/iojs/website/blob/master/TRANSLATION.md)
* 说到翻译，[io.js 路线图展示](http://roadmap.iojs.org/)已经更新了其他语言的链接。
* 看起来 **PayPal** 正在进行一个对比实验，他们将 [Kappa](https://www.npmjs.com/package/kappa) 运行在 io.js, node.js 0.12 和 node.js v0.10 上。PayPal 团队发现了一个疑似 TLS 模块的内存泄露问题。初步的修复参考 [#1078](https://github.com/iojs/io.js/pull/1078), 持续的修复进度参见 [#1075](https://github.com/iojs/io.js/issues/1075).
* [**NodeSource**](http://nodesource.com) 已经支持将 io.js [Linux 二进制包](https://nodesource.com/blog/nodejs-v012-iojs-and-the-nodesource-linux-repositories)分发到 Ubuntu/Debian 以及 RHEL/Fedora.
* io.js 的 [Docker 构建库](https://registry.hub.docker.com/u/library/iojs/) 是1月和2月新增的13个[官方 Docker 库](http://blog.docker.com/2015/03/thirteen-new-official-repositories-added-in-january-and-february/)之一。
* 声明称 [**Tessel2**](http://blog.technical.io/post/112787427217/tessel-2-new-hardware-for-the-tessel-ecosystem) 运行在 [io.js natively](http://blog.technical.io/post/112888410737/moving-faster-with-io-js) 上，NodeBots 和 IoT 的人们听到这个消息应该会很高兴。
* [**@maxbeatty**](https://twitter.com/maxbeatty) 正忙于 [jsperf.com](http://jsperf.com/) 后端的新版本开发，新版本将运行在 io.js 上并且是完全[开源的](https://github.com/jsperf/jsperf.com)，欢迎贡献！
* [@eranhammer](https://twitter.com/eranhammer) 发表了一篇新的博客 [Node 版本的困境](http://hueniverse.com/2015/03/02/the-node-version-dilemma/)。这篇文章讨论了 node.js 和 io.js 版本号的不同点，同时对于在不同的情况下使用哪个提出了建议。


# 以下项目增加对 io.js 的支持

* **[scrypt](https://npmjs.com/scrypt)** 增加了对 io.js 的支持，了解更多参见 [GitHub issue](https://github.com/barrysteyn/node-scrypt/issues/39).
* **[proxyquire](https://github.com/thlorenz/proxyquire)** v1.3.2 增加了对 io.js 的支持。

